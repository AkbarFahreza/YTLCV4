$(document).ready(function () {
  let ViewerChat = [];
  renderButtons();

  $.getJSON("/src/js/components/image.json", function (data) {
    const ProfilePicture = data.profilePicture;
    ViewerChat = [
      `<yt-img-shadow id="author-photo" class="no-transition style-scope yt-live-chat-text-message-renderer" height="24" width="24" style="background-color: transparent;" loaded=""> <img id="img gmbrImg" draggable="false" class="style-scope yt-img-shadow" alt="" src="${ProfilePicture}" width="24" height="24"></yt-img-shadow> <div id="content" class="style-scope yt-live-chat-text-message-renderer"><span id="timestamp" class="style-scope yt-live-chat-text-message-renderer">2:30 PM</span> <yt-live-chat-author-chip class="style-scope yt-live-chat-text-message-renderer"> <span id="prepend-chat-badges" class="style-scope yt-live-chat-author-chip"></span><span id="author-name" dir="auto" class="style-scope yt-live-chat-author-chip">Viewer Biasa<span id="chip-badges" class="style-scope yt-live-chat-author-chip"></span></span> <span id="chat-badges" class="style-scope yt-live-chat-author-chip"></span> </yt-live-chat-author-chip>​<span id="message" dir="auto" class="style-scope yt-live-chat-text-message-renderer"><img class="emoji yt-formatted-string style-scope yt-live-chat-text-message-renderer" src="https://yt3.ggpht.com/KOxdr_z3A5h1Gb7kqnxqOCnbZrBmxI2B_tRQ453BhTWUhYAlpg5ZP8IKEBkcvRoY8grY91Q=w24-h24-c-k-nd" alt="hand-pink-waving" data-emoji-id="UCkszU2WH9gy1mb0dV-11UJg/G8AfY6yWGuKuhL0PlbiA2AE" shared-tooltip-text=":hand-pink-waving:" id="emoji-3"><img class="emoji yt-formatted-string style-scope yt-live-chat-text-message-renderer" src="https://yt3.ggpht.com/KOxdr_z3A5h1Gb7kqnxqOCnbZrBmxI2B_tRQ453BhTWUhYAlpg5ZP8IKEBkcvRoY8grY91Q=w24-h24-c-k-nd" alt="hand-pink-waving" data-emoji-id="UCkszU2WH9gy1mb0dV-11UJg/G8AfY6yWGuKuhL0PlbiA2AE" shared-tooltip-text=":hand-pink-waving:" id="emoji-3"></span><span id="deleted-state" class="style-scope yt-live-chat-text-message-renderer"></span> <a id="show-original" href="#" class="style-scope yt-live-chat-text-message-renderer"></a> </div><div id="menu" class="style-scope yt-live-chat-text-message-renderer"> <yt-icon-button id="menu-button" class="style-scope yt-live-chat-text-message-renderer"> <button id="button" class="style-scope yt-icon-button" aria-label="Tindakan chat"><yt-icon icon="more_vert" class="style-scope yt-live-chat-text-message-renderer"><yt-icon-shape class="style-scope yt-icon"><icon-shape class="yt-spec-icon-shape"><div style="width: 100%; height: 100%; fill: currentcolor;"><svg enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><path d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path></svg></div></icon-shape></yt-icon-shape></yt-icon></button> <yt-interaction id="interaction" class="circular style-scope yt-icon-button"> <div class="stroke style-scope yt-interaction"></div><div class="fill style-scope yt-interaction"></div></yt-interaction> </yt-icon-button> </div><div id="inline-action-button-container" class="style-scope yt-live-chat-text-message-renderer" aria-hidden="true"> <div id="inline-action-buttons" class="style-scope yt-live-chat-text-message-renderer"></div></div>`,
      `<yt-img-shadow id="author-photo" class="no-transition style-scope yt-live-chat-text-message-renderer" height="24" width="24" style="background-color: transparent;" loaded=""> <img id="img gmbrImg" draggable="false" class="style-scope yt-img-shadow" alt="" src="${ProfilePicture}" width="24" height="24"></yt-img-shadow> <div id="content" class="style-scope yt-live-chat-text-message-renderer"><span id="timestamp" class="style-scope yt-live-chat-text-message-renderer">2:30 PM</span> <yt-live-chat-author-chip class="style-scope yt-live-chat-text-message-renderer"> <span id="prepend-chat-badges" class="style-scope yt-live-chat-author-chip"></span><span id="author-name" dir="auto" class="style-scope yt-live-chat-author-chip">Asep Gunung Kidul<span id="chip-badges" class="style-scope yt-live-chat-author-chip"></span></span> <span id="chat-badges" class="style-scope yt-live-chat-author-chip"></span> </yt-live-chat-author-chip>​<span id="message" dir="auto" class="style-scope yt-live-chat-text-message-renderer">Hello aku agus hari</span><span id="deleted-state" class="style-scope yt-live-chat-text-message-renderer"></span> <a id="show-original" href="#" class="style-scope yt-live-chat-text-message-renderer"></a> </div><div id="menu" class="style-scope yt-live-chat-text-message-renderer"> <yt-icon-button id="menu-button" class="style-scope yt-live-chat-text-message-renderer"> <button id="button" class="style-scope yt-icon-button" aria-label="Tindakan chat"><yt-icon icon="more_vert" class="style-scope yt-live-chat-text-message-renderer"><yt-icon-shape class="style-scope yt-icon"><icon-shape class="yt-spec-icon-shape"><div style="width: 100%; height: 100%; fill: currentcolor;"><svg enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><path d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path></svg></div></icon-shape></yt-icon-shape></yt-icon></button> <yt-interaction id="interaction" class="circular style-scope yt-icon-button"> <div class="stroke style-scope yt-interaction"></div><div class="fill style-scope yt-interaction"></div></yt-interaction> </yt-icon-button> </div><div id="inline-action-button-container" class="style-scope yt-live-chat-text-message-renderer" aria-hidden="true"> <div id="inline-action-buttons" class="style-scope yt-live-chat-text-message-renderer"></div></div>`,
    ];
    ModeratorChat = [
      `<yt-img-shadow id="author-photo" class="no-transition style-scope yt-live-chat-text-message-renderer" height="24" width="24" style="background-color: transparent;" loaded=""> <img id="img" draggable="false" class="style-scope yt-img-shadow" alt="" src="${ProfilePicture}" width="24" height="24"></yt-img-shadow> <div id="content" class="style-scope yt-live-chat-text-message-renderer"><span id="timestamp" class="style-scope yt-live-chat-text-message-renderer">2:43 PM</span> <yt-live-chat-author-chip class="style-scope yt-live-chat-text-message-renderer"> <span id="prepend-chat-badges" class="style-scope yt-live-chat-author-chip"></span><span id="author-name" dir="auto" class="moderator style-scope yt-live-chat-author-chip">Moderator with a long name<span id="chip-badges" class="style-scope yt-live-chat-author-chip"></span></span> <span id="chat-badges" class="style-scope yt-live-chat-author-chip"> <yt-live-chat-author-badge-renderer class="style-scope yt-live-chat-author-chip" aria-label="Moderator" type="moderator" shared-tooltip-text="Moderator"> <div id="image" class="style-scope yt-live-chat-author-badge-renderer"> <yt-icon class="style-scope yt-live-chat-author-badge-renderer"> <yt-icon-shape class="style-scope yt-icon"> <icon-shape class="yt-spec-icon-shape"> <div style="width: 100%; height: 100%; fill: currentcolor;"><svg viewBox="0 0 16 16" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><path d="M9.64589146,7.05569719 C9.83346524,6.562372 9.93617022,6.02722257 9.93617022,5.46808511 C9.93617022,3.00042984 7.93574038,1 5.46808511,1 C4.90894765,1 4.37379823,1.10270499 3.88047304,1.29027875 L6.95744681,4.36725249 L4.36725255,6.95744681 L1.29027875,3.88047305 C1.10270498,4.37379824 1,4.90894766 1,5.46808511 C1,7.93574038 3.00042984,9.93617022 5.46808511,9.93617022 C6.02722256,9.93617022 6.56237198,9.83346524 7.05569716,9.64589147 L12.4098057,15 L15,12.4098057 L9.64589146,7.05569719 Z"></path></svg></div></icon-shape> </yt-icon-shape> </yt-icon> </div><tp-yt-paper-tooltip class="style-scope yt-live-chat-author-badge-renderer" role="tooltip" tabindex="-1" style="--paper-tooltip-delay-in: 0ms; inset: -51.4px auto auto 184.133px;"> <div id="tooltip" class="style-scope tp-yt-paper-tooltip hidden" style-target="tooltip"> Moderator </div></tp-yt-paper-tooltip> </yt-live-chat-author-badge-renderer> </span> </yt-live-chat-author-chip>​<span id="message" dir="auto" class="style-scope yt-live-chat-text-message-renderer">Ketikanna dijaga yaww! <img class="emoji yt-formatted-string style-scope yt-live-chat-text-message-renderer" src="https://yt3.ggpht.com/oih9s26MOYPWC_uL6tgaeOlXSGBv8MMoDrWzBt-80nEiVSL9nClgnuzUAKqkU9_TWygF6CI=w24-h24-c-k-nd" alt="face-red-droopy-eyes" data-emoji-id="UCkszU2WH9gy1mb0dV-11UJg/W8IfY_bwAfiPq7IPvNCA2AU" shared-tooltip-text=":face-red-droopy-eyes:" id="emoji-2"><img class="emoji yt-formatted-string style-scope yt-live-chat-text-message-renderer" src="https://yt3.ggpht.com/oih9s26MOYPWC_uL6tgaeOlXSGBv8MMoDrWzBt-80nEiVSL9nClgnuzUAKqkU9_TWygF6CI=w24-h24-c-k-nd" alt="face-red-droopy-eyes" data-emoji-id="UCkszU2WH9gy1mb0dV-11UJg/W8IfY_bwAfiPq7IPvNCA2AU" shared-tooltip-text=":face-red-droopy-eyes:" id="emoji-2"></span><span id="deleted-state" class="style-scope yt-live-chat-text-message-renderer"></span> <a id="show-original" href="#" class="style-scope yt-live-chat-text-message-renderer"></a> </div><div id="menu" class="style-scope yt-live-chat-text-message-renderer"> <yt-icon-button id="menu-button" class="style-scope yt-live-chat-text-message-renderer"> <button id="button" class="style-scope yt-icon-button" aria-label="Tindakan chat"><yt-icon icon="more_vert" class="style-scope yt-live-chat-text-message-renderer"><yt-icon-shape class="style-scope yt-icon"><icon-shape class="yt-spec-icon-shape"><div style="width: 100%; height: 100%; fill: currentcolor;"><svg enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><path d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path></svg></div></icon-shape></yt-icon-shape></yt-icon></button> <yt-interaction id="interaction" class="circular style-scope yt-icon-button"> <div class="stroke style-scope yt-interaction"></div><div class="fill style-scope yt-interaction"></div></yt-interaction> </yt-icon-button> </div><div id="inline-action-button-container" class="style-scope yt-live-chat-text-message-renderer" aria-hidden="true"> <div id="inline-action-buttons" class="style-scope yt-live-chat-text-message-renderer"></div></div></yt-live-chat-text-message-renderer>`,
    ];

    function chatAttributes(element) {
      element.attr("class", "style-scope yt-live-chat-item-list-renderer");
      element.attr("whole-message-clickable", "");
      element.attr("id", "123");
    }

    // Render Viewer Chats
    function renderViewerChats() {
      const randomItem =
        ViewerChat[Math.floor(Math.random() * ViewerChat.length)];

      const newItem = $(
        "<yt-live-chat-text-message-renderer></yt-live-chat-text-message-renderer>"
      );
      chatAttributes(newItem);
      newItem.attr("author-type", "");
      newItem.html(randomItem);
      $("#items").append(newItem);
    }
    $("#render-viewer-chat").on("click", renderViewerChats);

    // Render Moderator Chats
    function renderModeratorChats() {
      const randomItem =
        ModeratorChat[Math.floor(Math.random() * ModeratorChat.length)];

      const newItem = $(
        "<yt-live-chat-text-message-renderer></yt-live-chat-text-message-renderer>"
      );
      chatAttributes(newItem);
      newItem.attr("author-type", "moderator");
      newItem.html(randomItem);
      $("#items").append(newItem);
    }
    $("#render-moderator-chat").on("click", renderModeratorChats);
  });
});
